<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Your Program Summary | COACH CHRIS</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #000; /* Black Background */
            color: #fff;
            /* Subtle background pattern */
            background-image: radial-gradient(#222 1px, transparent 1px);
            background-size: 40px 40px;
        }

        /* --- BRANDING COMPONENTS --- */
        
        /* The Main White Card */
        .quiz-container {
            max-width: 650px;
            min-height: 550px;
            background-color: #fff;
            color: #000;
            border: 4px solid #fff;
            /* Hard white shadow to pop off the black background */
            box-shadow: 10px 10px 0 0 #333; 
            transition: all 0.3s ease-in-out;
        }

        /* Option Buttons: High Contrast, Hard Edges */
        .option-button {
            border: 2px solid #000;
            background-color: #fff;
            color: #000;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 0 0 0 #000;
        }

        .option-button:hover:not(.selected) {
            transform: translate(-2px, -2px);
            box-shadow: 4px 4px 0 0 #000; /* Hard Shadow Hover */
            background-color: #f3f4f6;
        }

        /* Selected State: Black Background, Green Border Accent */
        .selected {
            background-color: #000 !important;
            color: #fff !important;
            border-color: #000 !important;
            transform: translate(-2px, -2px);
            box-shadow: 4px 4px 0 0 #22c55e !important; /* Green Shadow */
        }

        /* Next Button: The "Green" Accent */
        .action-button {
            background-color: #22c55e; /* Green 500 */
            color: #000;
            border: 2px solid #000;
            font-weight: 900;
            text-transform: uppercase;
            box-shadow: 4px 4px 0 0 #fff; /* White Shadow on Green btn */
            transition: all 0.2s;
        }
        
        .action-button:hover:not(:disabled) {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 0 #fff;
        }
        
        .action-button:disabled {
            background-color: #e5e7eb;
            color: #9ca3af;
            border-color: #d1d5db;
            box-shadow: none;
            cursor: not-allowed;
        }
        
        /* Secondary/Back Button */
        .secondary-button {
            background-color: #fff; 
            color: #000;
            border: 2px solid #000;
            font-weight: 700;
            text-transform: uppercase;
            box-shadow: 2px 2px 0 0 #000;
            transition: all 0.2s;
        }
        .secondary-button:hover {
            transform: translate(-1px, -1px);
            box-shadow: 3px 3px 0 0 #000;
        }

        /* Progress Bar: Black container, Green fill */
        .progress-container {
            background-color: #000; 
            height: 12px;
        }
        .progress-bar-fill {
            background-color: #22c55e; /* Green 500 */
            transition: width 0.3s ease-in-out;
        }

        /* Animations */
        .animate-in {
            animation: slideUpFade 0.4s ease-out;
        }

        @keyframes slideUpFade {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Custom Input Styling */
        .custom-input {
            border: 2px solid #000;
            border-radius: 0.5rem;
            transition: all 0.2s;
        }
        .custom-input:focus {
            outline: none;
            box-shadow: 4px 4px 0 0 #22c55e;
            border-color: #000;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4 sm:p-6">

    <!-- Main Quiz Container -->
    <div id="quiz-app" class="quiz-container w-full rounded-2xl p-6 md:p-10 relative overflow-hidden">
        
        <!-- Decoration: Green accent line top -->
        <div class="absolute top-0 left-0 w-full h-2 bg-green-500"></div>

        <!-- BRANDING BLOCK -->
        <div class="mb-6 leading-tight animate-in">
            <h1 class="text-4xl sm:text-5xl font-black text-black uppercase tracking-tighter">
                COACH CHRIS
            </h1>
            <p class="text-lg font-extrabold uppercase text-neutral-600">
                CIRCULAR ROOTS COACHING
            </p>
            <p class="text-base font-extrabold uppercase text-neutral-700">
                TRAIN UNCNVNTNL
            </p>
        </div>

        <!-- Main Quiz Title - UPDATED TEXT AND COLOR -->
        <h2 class="text-3xl sm:text-4xl font-black text-black mb-4 uppercase italic tracking-tighter">
            FIND YOUR PATH TO BECOMING 
            <span class="text-green-500">#FITTER</span> 
            <span class="text-green-500">#STRONGER</span> 
            <span class="text-green-500">#BETTER</span>
        </h2>
        
        <!-- Progress Bar -->
        <div class="mb-8">
            <div class="flex items-center space-x-3">
                <!-- Progress Label -->
                <p id="progress-text-label" class="text-sm font-black uppercase tracking-widest text-black whitespace-nowrap">
                    QUESTION 1 OF 6
                </p>
                <!-- Progress Bar Container -->
                <div class="progress-container h-3 flex-grow rounded-full overflow-hidden">
                    <div id="progress-bar-fill" class="progress-bar-fill h-full" style="width: 0%;"></div>
                </div>
                <!-- Percentage -->
                <p id="progress-percent" class="text-sm font-black text-black whitespace-nowrap">
                    0%
                </p>
            </div>
        </div>

        <!-- Dynamic Content Area -->
        <div id="content-area">
            <!-- Quiz steps will be rendered here -->
            <div class="text-center font-bold animate-pulse">LOADING...</div>
        </div>

    </div>
    
    <!-- Footer Tag -->
    <div class="mt-8 text-neutral-500 text-xs font-bold uppercase tracking-widest">
        TRAIN UNCNVNTNL
    </div>

    <script>
        // --- QUIZ DATA ---
        const quizData = [
            {
                id: 1,
                question: "What is your #1 primary fitness goal right now?",
                key: "primaryGoal",
                options: [
                    { text: "Fat Loss / Body Transformation", score: 30 },
                    { text: "Build Muscle & Increase Strength", score: 20 },
                    { text: "Improve Endurance & Stamina", score: 10 },
                    { text: "General Health & Consistency", score: 5 },
                ]
            },
            {
                id: 2,
                question: "How many days per week can you realistically commit?",
                key: "commitment",
                options: [
                    { text: "5 or more days", score: 30 },
                    { text: "3 - 4 days", score: 20 },
                    { text: "1 - 2 days", score: 10 },
                    { text: "Not sure / Just starting", score: 5 },
                ]
            },
            {
                id: 3,
                question: "What is your biggest barrier to success?",
                key: "barrier",
                options: [
                    { text: "Lack of a Specific Program", score: 5 },
                    { text: "Consistency & Accountability", score: 20 },
                    { text: "Nutrition & Diet Strategy", score: 30 },
                    { text: "Motivation & Time", score: 10 },
                ]
            },
            {
                id: 4,
                question: "What level of support do you need?",
                key: "support",
                options: [
                    { text: "Self-paced Program Template", score: 5 },
                    { text: "Weekly Check-ins & Messaging", score: 20 },
                    { text: "Full 1:1 Coaching (High Accountability)", score: 30 },
                    { text: "Group / Community Environment", score: 10 },
                ]
            },
            {
                id: 5,
                question: "Do you have any injuries or medical considerations?",
                key: "medical",
                options: [
                    { text: "Yes, I need tailored modifications.", score: 30 },
                    { text: "Minor aches, nothing serious.", score: 20 },
                    { text: "No, generally injury-free.", score: 10 },
                    { text: "I'm not sure.", score: 5 },
                ]
            },
            {
                id: 6,
                question: "What is your budget for coaching?",
                key: "budget",
                options: [
                    { text: "High (Ready for Premium 1:1)", score: 30 },
                    { text: "Medium (Solid Subscription Model)", score: 20 },
                    { text: "Low (Budget-Friendly Option)", score: 10 },
                    { text: "Results are the priority", score: 25 },
                ]
            }
        ];

        let currentStep = 0;
        let totalScore = 0;
        let selectedOption = null;
        let userAnswers = []; // Array to store detailed answers
        let clientName = "Warrior"; // Default client name

        // --- RECOMMENDATION LOGIC ---
        function getRecommendation(score) {
            const s = parseInt(score, 10); 
            
            if (s >= 140) {
                return {
                    title: "1-1 ONLINE COACHING",
                    description: "Your goals require maximum accountability and highly specific programming. This is the premium, fully-tailored solution designed to adapt to your life and ensure consistent, rapid progress.",
                    accentColor: "text-green-600",
                    ctaLink: "https://coachchriscrc.github.io/oc-lp",
                    ctaText: "VIEW FULL 1-1 COACHING STRATEGY",
                };
            } else if (s >= 85) {
                return {
                    title: "FITTER STRONGER BETTER SUBSCRIPTION",
                    description: "You have clear goals and moderate commitment. This service provides structured programming, personalized check-ins, and the perfect blend of accountability and flexibility.",
                     accentColor: "text-blue-600",
                     ctaLink: "https://coachchriscrc.github.io/fsb-lp",
                     ctaText: "VIEW FULL FSB SUBSCRIPTION STRATEGY",
                };
            } else {
                return {
                    title: "ONLINE PROGRAM LIBRARY",
                    description: "You are seeking expert-designed, foundational guidance. Get instant access to professionally built, self-paced training plans you can execute on your own schedule.",
                     accentColor: "text-gray-800",
                     ctaLink: "https://coachchriscrc.github.io/programs-lp",
                     ctaText: "VIEW FULL PROGRAM LIBRARY",
                };
            }
        }
        
        // --- DYNAMIC RATIONALE GENERATION ---
        function generatePersonalizedRationale(answers, recommendationTitle) {
            const goal = answers.find(a => a.key === 'primaryGoal')?.answer || 'an ambitious fitness goal';
            const barrier = answers.find(a => a.key === 'barrier')?.answer || 'an unknown block';
            const support = answers.find(a => a.key === 'support')?.answer || 'a dedicated plan';
            
            const supportMap = {
                "Self-paced Program Template": "getting a structured, flexible template",
                "Weekly Check-ins & Messaging": "weekly check-ins and consistent coaching support",
                "Full 1:1 Coaching (High Accountability)": "the highest level of one-on-one accountability",
                "Group / Community Environment": "a motivating team environment and community"
            };

            const supportPhrase = supportMap[support] || support;

            // Updated to use <strong> tags instead of **
            return `This recommendation is tailor-made because your core focus is <strong>${goal}</strong>, but the quiz highlights that your progress is being held back by <strong>${barrier}</strong>. The <strong>${recommendationTitle}</strong> program provides the perfect foundation, delivering <strong>${supportPhrase}</strong> to break that barrier and guarantee you hit your targets.`;
        }


        // --- UI RENDER FUNCTIONS ---
        const contentArea = document.getElementById('content-area');
        const progressBarFill = document.getElementById('progress-bar-fill');
        const progressTextLabel = document.getElementById('progress-text-label'); 
        const progressPercent = document.getElementById('progress-percent'); 

        function updateProgress() {
            const totalQuestions = quizData.length;
            const displayStep = currentStep === totalQuestions ? totalQuestions : currentStep + 1;
            const progress = (currentStep / totalQuestions) * 100;
            const percentageDisplay = Math.round(progress);

            progressBarFill.style.width = `${progress}%`;
            progressPercent.textContent = `${percentageDisplay}%`;

            if (currentStep < totalQuestions) {
                progressTextLabel.textContent = `QUESTION ${displayStep} OF ${totalQuestions}`;
            } else {
                 progressBarFill.style.width = `100%`;
                 progressTextLabel.textContent = `ANALYSIS COMPLETE`;
            }
        }

        function renderQuestion() {
            if (currentStep >= quizData.length) {
                renderNameInputScreen();
                return;
            }

            const stepData = quizData[currentStep];
            // Find previously selected option for this step to pre-select it
            const previousAnswer = userAnswers.find(a => a.key === stepData.key);
            selectedOption = previousAnswer ? stepData.options.find(opt => opt.text === previousAnswer.answer) : null;
            
            contentArea.innerHTML = ''; 

            const questionBlock = document.createElement('div');
            questionBlock.className = 'animate-in';
            questionBlock.innerHTML = `
                <h2 class="text-2xl font-black uppercase leading-tight mb-8">${stepData.question}</h2>
                <div id="options-container" class="space-y-4">
                    <!-- Options appended here -->
                </div>
                <div class="flex space-x-4 mt-10">
                    <button id="back-button" class="secondary-button w-1/3 p-4 text-xl rounded-lg">
                        <span class="hidden sm:inline">GO </span>BACK
                    </button>
                    <button id="next-button" ${selectedOption ? '' : 'disabled'} class="action-button flex-grow p-4 text-xl rounded-lg">
                        CONTINUE
                    </button>
                </div>
            `;
            contentArea.appendChild(questionBlock);

            const optionsContainer = document.getElementById('options-container');
            const nextButton = document.getElementById('next-button');
            const backButton = document.getElementById('back-button');

            // Show/hide back button
            if (currentStep === 0) {
                backButton.classList.add('invisible');
            } else {
                 backButton.addEventListener('click', handleBack);
            }


            stepData.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option.text;
                button.className = 'option-button w-full text-left p-5 rounded-lg text-lg';
                button.setAttribute('data-score', option.score);
                button.setAttribute('data-key', stepData.key);
                
                // Pre-select the button if it matches the previous answer
                if (selectedOption && option.text === selectedOption.text) {
                     button.classList.add('selected');
                }

                button.addEventListener('click', () => {
                    document.querySelectorAll('.option-button').forEach(btn => btn.classList.remove('selected'));
                    button.classList.add('selected');
                    selectedOption = option; // Store the whole option object for rich data capture
                    nextButton.disabled = false;
                });
                optionsContainer.appendChild(button);
            });
            
            nextButton.addEventListener('click', handleNext);
            updateProgress();
        }
        
        function renderNameInputScreen() {
             currentStep = quizData.length;
             updateProgress();

             contentArea.innerHTML = `
                 <div class="text-center animate-in">
                     <div class="inline-block p-3 rounded-full border-4 border-black mb-6">
                         <svg class="h-10 w-10 text-black" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                         </svg>
                     </div>
                     <h2 class="text-lg font-bold text-gray-500 uppercase tracking-widest mb-2">Quiz Complete!</h2>
                     <p class="text-3xl sm:text-4xl font-black uppercase italic mb-6 leading-none text-black">GENERATING PROGRAM SUMMARY...</p>
                 </div>
                 
                 <!-- Name Capture for Personalization -->
                 <div class="animate-in bg-gray-50 border-2 border-black p-6 rounded-xl relative">
                     <!-- Decorative Green Square -->
                     <div class="absolute -top-3 -right-3 w-8 h-8 bg-green-500 border-2 border-black"></div>
                     
                     <h4 class="text-xl font-black uppercase mb-2">Finalize Summary</h4>
                     <p class="text-sm font-medium text-gray-600 mb-6">Enter your first name to personalize your action plan below.</p>
                     
                     <form id="personalization-form" class="space-y-4">
                         
                         <div>
                             <label for="name" class="block text-xs font-bold uppercase mb-1">First Name (Required)</label>
                             <input type="text" id="client-name-input" name="name" required class="custom-input block w-full p-3 bg-white" placeholder="JANE" value="${clientName === 'Warrior' ? '' : clientName}">
                         </div>
                         
                         <button type="submit" id="display-button" class="action-button w-full py-4 mt-2 rounded-lg text-lg">
                             VIEW MY PROGRAM SUMMARY
                         </button>
                     </form>
                 </div>
             `;
             
             document.getElementById('personalization-form').addEventListener('submit', handlePersonalize);
        }

        function renderFinalProgramSummary() {
            const recommendation = getRecommendation(totalScore);
            const personalizedRationale = generatePersonalizedRationale(userAnswers, recommendation.title);
            const clientDisplay = clientName.toUpperCase();
            
            // Render the full motivational program summary
            contentArea.innerHTML = `
                <div class="animate-in bg-gray-100 border-2 border-black p-6 rounded-xl relative space-y-5">
                    <!-- Subject/Header -->
                    <div class="text-center">
                        <p class="text-lg font-extrabold uppercase text-green-600 tracking-widest mb-1">
                            ðŸš€ YOUR RECOMMENDED PROGRAM IS READY, ${clientDisplay}!
                        </p>
                        <h1 class="text-4xl font-black uppercase text-black italic">
                            STOP GUESSING. START WINNING.
                        </h1>
                    </div>

                    <!-- Body Content -->
                    <div class="text-gray-800 space-y-4 text-base leading-relaxed">
                        <p>Hey ${clientDisplay},</p>
                        
                        <p>We've analyzed your data and cut through the confusion. It's time to commit to a defined program that guarantees <strong class="text-green-500">UNCNVNTNL</strong> results.</p>
                        
                        <p class="text-center font-black text-xl border-y-2 border-black py-3 bg-gray-200">
                            Your Recommended Program:
                            <span class="block text-2xl mt-1 ${recommendation.accentColor}">${recommendation.title}</span>
                        </p>
                        
                        <!-- Rationale -->
                        <div class="p-4 bg-white border border-gray-300 rounded-lg">
                            <p class="font-extrabold text-black mb-2">Why this program is the perfect fit:</p>
                            <!-- Note: The description text uses <em> for italics, which is correct HTML for emphasis -->
                            <p class="italic text-gray-700">${recommendation.description}</p>
                            <p class="mt-3 font-medium text-sm">
                                <span class="font-extrabold text-black">PERSONAL FIT:</span> ${personalizedRationale}
                            </p>
                        </div>
                        
                        <!-- General Advice Section -->
                        <h3 class="text-xl font-black uppercase pt-4 border-t border-gray-300">ACTIONABLE GENERAL ADVICE</h3>
                        <p class="font-bold text-black">Success is simple, but it's not easy. Keep these three principles in mind as you start any new program:</p>
                        <ul class="list-disc list-outside ml-5 space-y-2">
                            <li><strong class="font-extrabold text-black">COMMIT to Consistency, Not Perfection:</strong> A mediocre workout done 5 times a week beats a perfect workout done once. Show up, put in the work, and the results will follow.</li>
                            <li><strong class="font-extrabold text-black">Master the Basics:</strong> Don't chase novelty. Focus on mastering the fundamental movements. This is where 90% of your gains will come from, regardless of the program.</li>
                            <li><strong class="font-extrabold text-black">Prioritize Sleep & Fueling:</strong> Your body doesn't build muscle or burn fat in the gym; it does it while recovering. Treat your sleep and nutrition like they are the most important lifts of the day.</li>
                        </ul>
                        
                        
                        <h3 class="text-xl font-black uppercase pt-4 border-t border-gray-300">YOUR NEXT STEPS</h3>
                        
                        <p>It's time to stop guessing and <strong class="text-black">COMMIT TO THE PLAN</strong>.</p>
                        
                        <ol class="list-decimal list-inside space-y-3 font-medium">
                            <li>
                                <span class="font-extrabold text-black">Step 1: Get the Full Program Details</span>
                                <span class="block text-gray-700">Click the link below. It will take you to a private page detailing everything about the <span class="font-bold">${recommendation.title}</span> service, including clear pricing, whatâ€™s included, and the expected timeline to achieve your specific goals.</span>
                            </li>
                            <li>
                                <span class="font-extrabold text-black">Step 2: Book Your Strategy Call</span>
                                <span class="block text-gray-700">If this Program resonates with your commitment level and goals, the final step is a quick, zero-pressure strategy call with me (Coach Chris) to confirm the fit and officially kick off your UNCNVNTNL training journey.</span>
                            </li>
                        </ol>

                        <p class="text-center text-lg font-black pt-4">
                            ACTION IS THE ONLY WAY FORWARD.
                        </p>
                    </div>

                    <!-- CTA Button (using the provided link) -->
                    <a href="${recommendation.ctaLink}" 
                       target="_blank" 
                       class="action-button w-full flex items-center justify-center py-5 mt-6 rounded-lg text-lg text-center no-underline !box-shadow-4x4x0x0-000"
                       style="box-shadow: 4px 4px 0 0 #000;">
                        ${recommendation.ctaText}
                    </a>
                    
                    <!-- Restart Button -->
                    <button id="restart-button" class="secondary-button w-full py-3 mt-4 rounded-lg text-sm">
                        RESTART QUIZ & ANALYZE AGAIN
                    </button>
                    
                    <!-- Footer Signature -->
                    <p class="text-sm font-bold pt-4 text-right">
                        â€” Coach Chris
                        <span class="block font-medium text-xs text-gray-500">CIRCULAR ROOTS COACHING | TRAIN UNCNVNTNL</span>
                    </p>
                </div>
            `;
            
            document.getElementById('restart-button').addEventListener('click', restartQuiz);
        }

        // --- EVENT HANDLERS ---
        function handleNext() {
            if (selectedOption !== null) {
                // Check if this question was previously answered (i.e., user went back)
                const currentKey = quizData[currentStep].key;
                const existingIndex = userAnswers.findIndex(a => a.key === currentKey);

                if (existingIndex !== -1) {
                    // If moving forward from a previous step, update the score and the answer
                    totalScore -= userAnswers[existingIndex].score; // Subtract old score
                    userAnswers.splice(existingIndex, 1); // Remove old answer
                } 
                
                // Add the new answer
                userAnswers.push({
                    key: currentKey,
                    question: quizData[currentStep].question,
                    answer: selectedOption.text,
                    score: selectedOption.score
                });
                
                totalScore += selectedOption.score;
                currentStep++;
                renderQuestion();
            }
        }
        
        function handleBack() {
             // 1. Decrement step
             currentStep = Math.max(0, currentStep - 1);
             
             // The next renderQuestion call will correctly pre-select the answer based on the (now current) userAnswers array.
             renderQuestion();
        }
        
        function handlePersonalize(event) {
            event.preventDefault();
            const nameInput = document.getElementById('client-name-input').value.trim();
            if (nameInput) {
                // Update the global clientName variable for personalization
                clientName = nameInput.split(' ')[0]; 
            }
            renderFinalProgramSummary();
        }
        
        function restartQuiz() {
            currentStep = 0;
            totalScore = 0;
            selectedOption = null;
            userAnswers = [];
            clientName = "Warrior"; // Reset to default name
            renderQuestion();
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            if (progressTextLabel && progressPercent) {
                updateProgress();
            }
            renderQuestion();
        });
    </script>
</body>
</html>

